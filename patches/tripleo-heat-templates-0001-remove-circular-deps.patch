From f7473ef177eede16b7384dc6eb99e1d9a5ba1e47 Mon Sep 17 00:00:00 2001
From: Derek Higgins <derekh@redhat.com>
Date: Fri, 14 Jun 2013 00:16:34 +0100
Subject: [PATCH] Remove circular deps

Change-Id: Iccdf4a081f38aa3a5fe0e250b9e9382958a0f26e
---
 bootstack-vm.yaml          | 6 ++----
 nova-compute-instance.yaml | 3 +--
 2 files changed, 3 insertions(+), 6 deletions(-)

diff --git a/bootstack-vm.yaml b/bootstack-vm.yaml
index 91456c6..b175445 100644
--- a/bootstack-vm.yaml
+++ b/bootstack-vm.yaml
@@ -34,8 +34,7 @@ Resources:
       Openstack::ImageBuilder::Elements: [ boot-stack, heat-cfntools, quantum-network-node ]
       admin-password: unset
       admin-token: unset
-      controller-address:
-        Fn::GetAtt: [ notcompute, PublicIp ] 
+      controller-address: 127.0.0.1
       cinder:
         db: mysql://cinder:unset@localhost/cinder
         volume_size_mb: '5000'
@@ -84,8 +83,7 @@ Resources:
           fixed_range: 10.0.0.0/8
           tenant_network_type: gre
           enable_tunneling: 'True'
-          local_ip:
-            Fn::GetAtt: [ notcompute, PrivateIp ]
+          local_ip: 127.0.0.1
       rabbit:
         host: 127.0.0.1
         password: guest
diff --git a/nova-compute-instance.yaml b/nova-compute-instance.yaml
index d885cba..91c9ce6 100644
--- a/nova-compute-instance.yaml
+++ b/nova-compute-instance.yaml
@@ -89,8 +89,7 @@ Resources:
         host: {Ref: QuantumHost}
         ovs_db: {Ref: QuantumDSN}
         ovs:
-          local_ip:
-            Fn::GetAtt: [ NovaCompute, PrivateIp ]
+          local_ip: 127.0.0.1
           tenant_network_type: {Ref: QuantumNetworkType}
           network_vlan_ranges: {Ref: QuantumNetworkVLANRanges}
           bridge_mappings: {Ref: QuantumBridgeMappings}
-- 
1.8.1.4

